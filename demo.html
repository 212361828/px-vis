<!doctype html>

<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>px-vis Demo</title>
        <!-- Requires Webcomponents.js polyfill is provided by the page for browsers that don't support html imports -->
        <script src="../webcomponentsjs/webcomponents-lite.min.js"></script>
        <!-- Import custom element. Note: see comment about relative paths to dependencies in the *.html file referenced below -->
        <link rel="import" href="../px-theme/px-theme.html"/>

        <link rel="import" href="px-vis-axis.html">
        <link rel="import" href="px-vis-brush.html">
        <link rel="import" href="px-vis-chart-navigator.html">
        <link rel="import" href="px-vis-cursor.html">
        <link rel="import" href="px-vis-data.html">
        <link rel="import" href="px-vis-event.html">
        <link rel="import" href="px-vis-gridlines.html">
        <link rel="import" href="px-vis-interaction-space.html">
        <link rel="import" href="px-vis-line.html">
        <link rel="import" href="px-vis-register.html">
        <link rel="import" href="px-vis-scale.html">
        <link rel="import" href="px-vis-scatter.html">
        <link rel="import" href="px-vis-svg.html">
        <link rel="import" href="px-vis-threshold.html">
        <link rel="import" href="px-vis-tooltip.html">
        <link rel="import" href="px-vis-zoom.html">

        <link rel="stylesheet" type="text/css" href="css/px-vis-demo.css"/>
        <style>
          hr {
            height: 1px;
            border: 0;
            background: #cccccc;
          }
          .space {
            margin-left: 25px;
          }
        </style>
    </head>

    <body>
      <hr />
      <!-- svg -->
      <template is="dom-bind" class="demo">
        <div class="layout u-m">
          <div class="layout__item u-m">
            <strong>Description</strong>
            <br/><br/>
            All charts need a drawing space SVG component and an interpretor component. These cannot be seen but provide the basic framework for drawing objects to be displayed.
            <br/><br/>
            <i>Note: All the subsequent charts will have these two components, but they will not be shown in the code snippet.</i>
          </div>

          <div class="layout__item u-m">
            <strong>Element Configuration</strong>
            <br/><br/>
            <div class="code">
              <div>&lt;px-vis-svg</div>
              <div class="u-ml+">width="[[width]]"</div>
              <div class="u-ml+">height="[[height]]"</div>
              <div class="u-ml+">margin='[[marginCode]]'&gt;</div>
              <div>&lt;/px-simple-line-chart&gt;</div>
              <br />
              <div>&lt;px-vis-scale</div>
              <div class="u-ml+">x-scale="time"</div>
              <div class="u-ml+">y-scale="linear"</div>
              <div class="u-ml+">width="[[width]]"</div>
              <div class="u-ml+">height="[[height]]"</div>
              <div class="u-ml+">margin='[[marginCode]]'</div>
              <div class="u-ml+">chart-data='[[chartDataCode]]'&gt;</div>
              <div>&lt;/px-vis-scale&gt;</div>
            </div>
          </div>

          <div class="layout__item  u-m">
            <strong>Example chart</strong>
            <br/><br/>
            <px-vis-svg
              width="[[width]]"
              height="[[height]]"
              margin="[[margin]]"
              svg="{{svg}}">
            </px-vis-svg>
            <px-vis-scale
              x-scale="time"
              y-scale="linear"
              width="[[width]]"
              height="[[height]]"
              margin="[[margin]]"
              chart-data={{chartData}}
              x="{{x}}"
              y="{{y}}"
              current-domain-x="{{currentDomainX}}"
              current-domain-y="{{currentDomainY}}">
            </px-vis-scale>
            </px-vis-scale>
          </div>
        </div>
      </template>
      <!-- svg -->

      <hr />

      <!-- Line -->
      <template is="dom-bind" class="demo">
        <div class="layout u-m">
          <div class="layout__item u-m">
            <strong>Description</strong>
            <br /><br />
            Example of a line drawing object. Bound elements are set from other components, such as px-vis-svg and px-vis-scale, and passed into px-vis-line.
          </div>

          <div class="layout__item u-m">
            <strong>Element Configuration</strong>
            <br/><br/>
            <div class="code">
              <div>&lt;px-vis-line</div>
              <div class="u-ml+">svg="[&shy;[svg]&shy;]"</div>
              <div class="u-ml+">series-id="mySeries"</div>
              <div class="u-ml+">series-number="0"</div>
              <div class="u-ml+">chart-data='[[chartDataSeriesCode]]'</div>
              <div class="u-ml+">x="[&shy;[x]&shy;]"</div>
              <div class="u-ml+">y="[&shy;[y]&shy;]"</div>
              <div class="u-ml+">current-domain-x="[&shy;[currentDomainX]&shy;]"</div>
              <div class="u-ml+">current-domain-y="[&shy;[currentDomainY]&shy;]"&gt;</div>
              <div>&lt;/px-vis-line&gt;</div>
            </div>
          </div>

          <div class="layout__item  u-m">
            <strong>Example chart</strong>
            <br/><br/>
            <px-vis-svg
              width="[[width]]"
              height="[[height]]"
              margin="[[margin]]"
              svg="{{svg}}">
            </px-vis-svg>
            <px-vis-scale
              x-scale="time"
              y-scale="linear"
              width="[[width]]"
              height="[[height]]"
              margin="[[margin]]"
              chart-data={{chartData}}
              x="{{x}}"
              y="{{y}}"
              current-domain-x="{{currentDomainX}}"
              current-domain-y="{{currentDomainY}}">
            </px-vis-scale>
            <px-vis-line
              svg="[[svg]]"
              series-id="mySeries"
              series-number="0"
              chart-data="[[chartDataSeries]]"
              x="[[x]]"
              y="[[y]]"
              current-domain-x="[[currentDomainX]]"
              current-domain-y="[[currentDomainY]]">
            </px-vis-line>
          </div>
        </div>
      </template>
      <!-- /Line -->

      <hr />

      <!-- scatter -->
      <template is="dom-bind" class="demo">
        <div class="layout u-m">
          <div class="layout__item u-m">
            <strong>Description</strong>
            <br /><br />
            Example of a scatter drawing object. Very similar to px-vis-line
          </div>

          <div class="layout__item u-m">
            <strong>Element Configuration</strong>
            <br/><br/>
            <div class="code">
              <div>&lt;px-vis-scatter</div>
              <div class="u-ml+">svg="[&shy;[svg]&shy;]"</div>
              <div class="u-ml+">series-id="mySeries"</div>
              <div class="u-ml+">series-number="0"</div>
              <div class="u-ml+">chart-data='[[chartDataSeriesCode]]'</div>
              <div class="u-ml+">x="[&shy;[x]&shy;]"</div>
              <div class="u-ml+">y="[&shy;[y]&shy;]"</div>
              <div class="u-ml+">current-domain-x="[&shy;[currentDomainX]&shy;]"</div>
              <div class="u-ml+">current-domain-y="[&shy;[currentDomainY]&shy;]"&gt;</div>
              <div>&lt;/px-vis-scatter&gt;</div>
            </div>
          </div>

          <div class="layout__item  u-m">
            <strong>Example chart</strong>
            <br/><br/>
            <px-vis-svg
              width="[[width]]"
              height="[[height]]"
              margin="[[margin]]"
              svg="{{svg}}">
            </px-vis-svg>
            <px-vis-scale
              x-scale="time"
              y-scale="linear"
              width="[[width]]"
              height="[[height]]"
              margin="[[margin]]"
              chart-data={{chartData}}
              x="{{x}}"
              y="{{y}}"
              current-domain-x="{{currentDomainX}}"
              current-domain-y="{{currentDomainY}}">
            </px-vis-scale>
            <px-vis-scatter
              svg="[[svg]]"
              series-id="mySeries"
              series-number="0"
              chart-data="[[chartDataSeries]]"
              x="[[x]]"
              y="[[y]]"
              current-domain-x="[[currentDomainX]]"
              current-domain-y="[[currentDomainY]]">
            </px-vis-scatter>
          </div>
        </div>
      </template>
      <!-- /scatter -->

      <script>
        var template = document.querySelectorAll('.demo');
        // The dom-change event signifies when the template has stamped its DOM.
        for(var i = 0; i < template.length; i++){
          template[i].addEventListener('dom-change', function() {
            this.width = 300;
            this.height = 200;
            this.margin = {
              "top": 5,
              "right": 5,
              "bottom": 5,
              "left": 5
            };
            this.marginCode = '{ \
              "top": 5,\
              "right": 5,\
              "bottom": 5,\
              "left": 5\
            }';
            this.chartData = [{
              "series": [
                [1397102460000, 0.56],
                [1397139660000, 0.4],
                [1397177400000, 0.43],
                [1397228040000, 0.33],
                [1397248260000, 0.47],
                [1397291280000, 0.41],
                [1397318100000, 0.26],
                [1397342100000, 0.42],
                [1397390820000, 0.27],
                [1397408100000, 0.38],
                [1397458800000, 0.36],
                [1397522940000, 0.32]
              ]
            }];
            this.chartDataCode = '[{...} , {...}]';
            this.chartDataSeries = this.chartData[0];
            this.chartDataSeriesCode = '{ \
              series: [ \
                [1397102460000, 0.56],\
                [1397139660000, 0.4], \
                ...\
              ] }'
          });
        }
      </script>
    </body>
</html>
