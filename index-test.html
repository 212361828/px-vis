<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>px-vis</title>
  <link rel="stylesheet" type="text/css" href="css/px-vis-demo.css"/>
  <!-- Import custom element. Note: see comment about relative paths to dependencies in the *.html file referenced below -->
  <script src="../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../px-theme/px-theme.html"/>
  <link rel="icon" href="favicon.ico" type="image/x-icon"/>
  <link rel="import" href="../px-demo-snippet/px-demo-snippet.html"/>
  <link rel="import" href="../px-polymer-font-awesome/polymer-font-awesome.html" />
  <link rel="import" href="../px-datetime-common/px-datetime-imports.html">

  <link rel="import" href="px-vis-axis.html">
  <link rel="import" href="px-vis-brush.html">
  <link rel="import" href="px-vis-chart-navigator.html">
  <link rel="import" href="px-vis-cursor.html">
  <link rel="import" href="px-vis-data.html">
  <link rel="import" href="px-vis-event.html">
  <link rel="import" href="px-vis-gridlines.html">
  <link rel="import" href="px-vis-interaction-space.html">
  <link rel="import" href="px-vis-line.html">
  <link rel="import" href="px-vis-register.html">
  <link rel="import" href="px-vis-scale.html">
  <link rel="import" href="px-vis-scatter.html">
  <link rel="import" href="px-vis-svg.html">
  <link rel="import" href="px-vis-threshold.html">
  <link rel="import" href="px-vis-tooltip.html">
  <link rel="import" href="px-vis-zoom.html">

  <!-- <link rel="import" href="demos/px-vis-scatter-demo.html">
  <link rel="import" href="demos/px-vis-event-demo.html"> -->

  </head>
<body>

  <!-- event -->
  <p class="epsilon demo__title">px-vis-event</p>
  <div class="demo u-p+ flex">
    <div>

      <template id='visEvent' is="dom-bind">
        <px-vis-svg
          class="outline"
          width="[[basic.width]]"
          height="[[basic.height]]"
          margin="[[basic.margin]]"
          svg="{{svg}}">
        </px-vis-svg>
        <px-vis-scale
          x-axis-type="time"
          y-axis-type="linear"
          complete-series-config="[[basic.seriesConfig]]"
          chart-extents="[[chartExtents]]"
          width="[[basic.width]]"
          height="[[basic.height]]"
          margin="[[basic.margin]]"
          chart-data={{basic.chartData}}
          x="{{x}}"
          y="{{y}}"
          domain-changed='{{domainChanged}}'
          current-domain-x="{{currentDomainX}}"
          current-domain-y="{{currentDomainY}}"
          selected-domain="[[selectedDomain]]">
        </px-vis-scale>
        <px-vis-event
          svg="[[svg]]"
          x-axis-type="time"
          event-id="[[eventData.event1.id]]"
          event-data="[[eventData.event1]]"
          x="[[x]]"
          y="[[y]]"
          event-config="[[eventConfig]]"
          current-domain-x="[[currentDomainX]]"
          current-domain-y="[[currentDomainY]]">
        </px-vis-event>
        <px-vis-event
          svg="[[svg]]"
          x-axis-type="time"
          event-id="[[eventData.event2.id]]"
          event-data="[[eventData.event2]]"
          x="[[x]]"
          y="[[y]]"
          event-config="[[eventConfig]]"
          current-domain-x="[[currentDomainX]]"
          current-domain-y="[[currentDomainY]]">
        </px-vis-event>
        <px-vis-event
          svg="[[svg]]"
          x-axis-type="time"
          event-id="[[eventData.event3.id]]"
          event-data="[[eventData.event3]]"
          x="[[x]]"
          y="[[y]]"
          event-config="[[eventConfig]]"
          current-domain-x="[[currentDomainX]]"
          current-domain-y="[[currentDomainY]]">
        </px-vis-event>
        <px-vis-event
          svg="[[svg]]"
          x-axis-type="time"
          event-id="[[eventData.event4.id]]"
          event-data="[[eventData.event4]]"
          x="[[x]]"
          y="[[y]]"
          event-config="[[eventConfig]]"
          current-domain-x="[[currentDomainX]]"
          current-domain-y="[[currentDomainY]]">
        </px-vis-event>
      </template>
    </div>
    <div class="demo__discription u-pl+">
      <p class="u-mt0">Chart events use their own dataset. A vertical line is drawn at the x-coordinate and an icon above.</p>
    </div>
  </div>



  <script>
  window.addEventListener('WebComponentsReady', function() {
    // content for the vis components
    basic = {
      width : 500,
      height : 200,
      margin : {
        "top": 10,
        "right": 10,
        "bottom": 10,
        "left": 10
      },
      chartData : [{
          'x': 1397102460000,
          'y': 0.56
        },{
          'x': 1397139660000,
          'y': 0.4
        },{
          'x': 1397177400000,
          'y': 0.43
        },{
          'x': 1397228040000,
          'y': 0.33
        },{
          'x': 1397248260000,
          'y': 0.47
        },{
          'x': 1397291280000,
          'y': 0.41
        },{
          'x': 1397318100000,
          'y': 0.26
        },{
          'x': 1397342100000,
          'y': 0.42
        },{
          'x': 1397390820000,
          'y': 0.27
        },{
          'x': 1397408100000,
          'y': 0.38
        },{
          'x': 1397458800000,
          'y': 0.36
        },{
          'x': 1397522940000,
          'y': 0.32
      }],
      seriesConfig: {
        'mySeries': {
          "name":"My-Series",
          "type": "line",
          "x": 'x',
          "y": 'y',
          'color': "rgb(93,165,218)"
        }
      }
    },
    chartExtents = {
      "x": [Infinity,-Infinity],
      "y": [0,-Infinity]
    },
    eventData = {
      "event1": {
        "id": "123",
        "x": 1397139660000,
        "label": "Default"
      },
      "event2": {
        "id": "456",
        "x": 1397248260000,
        "label": "Font Awesome"
      },
      "event3": {
        "id": "789",
        "x": 1397342100000,
        "label": "Unicode"
      },
      "event4": {
        "id": "333",
        "x": 1397458800000,
        "label": "Image"
      }
    },
    eventConfig = {
      "Font Awesome":{
        "color": "blue",
        "icon": "fa-camera",
        "type": "fa",
        "offset":[0,0]
      },
      "Unicode":{
        "color": "green",
        "icon": "\uf015",
        "type": "unicode",
        "offset":[1,0]
      },
      "Image":{
        "icon": "ge_logo.png",
        "type": "image",
        "offset":[0,-20],
        "size":"20"
      }
    };

    var templateVisEvent = document.querySelector('#visEvent');
        templateVisEvent.basic = basic;
        templateVisEvent.eventData = eventData;
        templateVisEvent.eventConfig = eventConfig;
        templateVisEvent.chartExtents = chartExtents;
      });

  </script>
</body>
</html>
